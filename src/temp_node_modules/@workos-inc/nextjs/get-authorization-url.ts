import { getEnvVariable } from "./utils";
import { workos, clientId } from "./workos";

async function getAuthorizationUrl() {
  const redirectUri = getEnvVariable("WORKOS_REDIRECT_URI");
  const authorizationUrl = workos.userManagement.getAuthorizationUrl({
    provider: "authkit",
    clientId,
    // The endpoint that WorkOS will redirect to after a user authenticates
    redirectUri,
  });

  return authorizationUrl;
}

export { getAuthorizationUrl };
